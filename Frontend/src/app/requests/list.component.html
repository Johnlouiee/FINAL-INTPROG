<div class="card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <span>Requests</span>
    <button class="btn btn-secondary" (click)="goBack()">
      <i class="fas fa-arrow-left"></i> Back to Employees
    </button>
  </div>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Type</th>
            <th>Employee ID</th>
            <th>Description</th>
            <th>Status</th>
            <th>Created</th>
            <th>Items</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let request of requests">
            <td>{{request.type || 'N/A'}}</td>
            <td>{{request.employee?.employeeId || request.employeeId || 'N/A'}}</td>
            <td>{{request.description || 'N/A'}}</td>
            <td>{{request.status || 'N/A'}}</td>
            <td>{{request.createdAt ? (request.createdAt | date:'short') : 'N/A'}}</td>
            <td>{{formatRequestItems(request.requestItems)}}</td>
            <td>
              <button *ngIf="account()?.role === 'Admin'" class="btn btn-sm btn-primary me-1" (click)="edit(request.id)">Edit</button>
              <button *ngIf="account()?.role === 'Admin'" class="btn btn-sm btn-danger" (click)="delete(request.id)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <button class="btn btn-primary float-end" (click)="add()">Add Request</button>
  </div>
</div>
